<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conversation Tree</title>
    <style>
        .conversation-table {
            display: none;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .conversation-table td {
            border: 1px solid black;
            padding: 10px;
        }
        .context {
            display: none;
        }
    </style>
</head>
<body>
    <div id="conversation" onclick="showConversation()">
        Click here to view the conversation tree.
    </div>

    <table id="conversationTable" class="conversation-table">
        <tr>
            <td>
                <p onclick="toggleContext(1)">This is the first paragraph.</p>
                <div id="context1" class="context">
                    Context above paragraph 1.
                </div>
                <div id="context1b" class="context">
                    Context below paragraph 1.
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <p onclick="toggleContext(2)">This is the second paragraph.</p>
                <div id="context2" class="context">
                    Context above paragraph 2.
                </div>
                <div id="context2b" class="context">
                    Context below paragraph 2.
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <p onclick="toggleContext(3)">This is the third paragraph.</p>
                <div id="context3" class="context">
                    Context above paragraph 3.
                </div>
                <div id="context3b" class="context">
                    Context below paragraph 3.
                </div>
            </td>
        </tr>
    </table>

    <script>
        function showConversation() {
            var table = document.getElementById("conversationTable");
            if (table.style.display === "none") {
                table.style.display = "table";
            } else {
                table.style.display = "none";
            }
        }

        function toggleContext(paragraphNumber) {
            var contextAbove = document.getElementById('context' + paragraphNumber);
            var contextBelow = document.getElementById('context' + paragraphNumber + 'b');

            if (contextAbove.style.display === 'none') {
                contextAbove.style.display = 'block';
                contextBelow.style.display = 'block';
            } else {
                contextAbove.style.display = 'none';
                contextBelow.style.display = 'none';
            }
        }
    </script>
</body>
</html>

